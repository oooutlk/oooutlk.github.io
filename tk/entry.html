<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Entry</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="installing_tk.html"><strong aria-hidden="true">2.</strong> Installing Tk</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="installing_tk_on_windows.html"><strong aria-hidden="true">2.1.</strong> Installing Tk On Windows</a></li><li class="chapter-item expanded "><a href="installing_tk_on_linux.html"><strong aria-hidden="true">2.2.</strong> Installing Tk On Linux</a></li><li class="chapter-item expanded "><a href="installing_tk_on_freebsd.html"><strong aria-hidden="true">2.3.</strong> Installing Tk On FreeBSD</a></li></ol></li><li class="chapter-item expanded "><a href="a_first_real_example.html"><strong aria-hidden="true">3.</strong> A First (Real) Example</a></li><li class="chapter-item expanded "><a href="tk_concepts.html"><strong aria-hidden="true">4.</strong> Tk Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="widgets.html"><strong aria-hidden="true">4.1.</strong> Widgets</a></li><li class="chapter-item expanded "><a href="geometry_management.html"><strong aria-hidden="true">4.2.</strong> Geometry Management</a></li><li class="chapter-item expanded "><a href="event_handling.html"><strong aria-hidden="true">4.3.</strong> Event Handling</a></li></ol></li><li class="chapter-item expanded "><a href="basic_widgets.html"><strong aria-hidden="true">5.</strong> Basic Widgets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="frame.html"><strong aria-hidden="true">5.1.</strong> Frame</a></li><li class="chapter-item expanded "><a href="label.html"><strong aria-hidden="true">5.2.</strong> Label</a></li><li class="chapter-item expanded "><a href="button.html"><strong aria-hidden="true">5.3.</strong> Button</a></li><li class="chapter-item expanded "><a href="checkbutton.html"><strong aria-hidden="true">5.4.</strong> Checkbutton</a></li><li class="chapter-item expanded "><a href="radiobutton.html"><strong aria-hidden="true">5.5.</strong> Radiobutton</a></li><li class="chapter-item expanded "><a href="entry.html" class="active"><strong aria-hidden="true">5.6.</strong> Entry</a></li><li class="chapter-item expanded "><a href="combobox.html"><strong aria-hidden="true">5.7.</strong> Combobox</a></li></ol></li><li class="chapter-item expanded "><a href="grid.html"><strong aria-hidden="true">6.</strong> The Grid Geometry Manager</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="columns_and_rows.html"><strong aria-hidden="true">6.1.</strong> Columns and Rows</a></li><li class="chapter-item expanded "><a href="spanning_multiple_cells.html"><strong aria-hidden="true">6.2.</strong> Spanning Multiple Cells</a></li><li class="chapter-item expanded "><a href="layout_within_the_cell.html"><strong aria-hidden="true">6.3.</strong> Layout within the Cell</a></li><li class="chapter-item expanded "><a href="handling_resize.html"><strong aria-hidden="true">6.4.</strong> Handling Resize</a></li><li class="chapter-item expanded "><a href="padding.html"><strong aria-hidden="true">6.5.</strong> Padding</a></li><li class="chapter-item expanded "><a href="additional_grid_features.html"><strong aria-hidden="true">6.6.</strong> Additional Grid Features</a></li><li class="chapter-item expanded "><a href="nested_layouts.html"><strong aria-hidden="true">6.7.</strong> Nested Layouts</a></li></ol></li><li class="chapter-item expanded "><a href="more_widgets.html"><strong aria-hidden="true">7.</strong> More Widgets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="listbox.html"><strong aria-hidden="true">7.1.</strong> Listbox</a></li><li class="chapter-item expanded "><a href="scrollbar.html"><strong aria-hidden="true">7.2.</strong> Scrollbar</a></li><li class="chapter-item expanded "><a href="text.html"><strong aria-hidden="true">7.3.</strong> Text</a></li><li class="chapter-item expanded "><a href="scale.html"><strong aria-hidden="true">7.4.</strong> Scale</a></li><li class="chapter-item expanded "><a href="spinbox.html"><strong aria-hidden="true">7.5.</strong> Spinbox</a></li><li class="chapter-item expanded "><a href="progressbar.html"><strong aria-hidden="true">7.6.</strong> Progressbar</a></li></ol></li><li class="chapter-item expanded "><a href="event_loop.html"><strong aria-hidden="true">8.</strong> Event Loop</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="blocking_the_event_loop.html"><strong aria-hidden="true">8.1.</strong> Blocking the Event Loop</a></li><li class="chapter-item expanded "><a href="one_step_at_a_time.html"><strong aria-hidden="true">8.2.</strong> One Step at a Time</a></li><li class="chapter-item expanded "><a href="asynchronous_io.html"><strong aria-hidden="true">8.3.</strong> Asynchronous I/O</a></li><li class="chapter-item expanded "><a href="threads_or_processes.html"><strong aria-hidden="true">8.4.</strong> Threads or Processes</a></li><li class="chapter-item expanded "><a href="nested_event_processing.html"><strong aria-hidden="true">8.5.</strong> Nested Event Processing</a></li></ol></li><li class="chapter-item expanded "><a href="menus.html"><strong aria-hidden="true">9.</strong> Menus</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="menubars.html"><strong aria-hidden="true">9.1.</strong> Menubars</a></li><li class="chapter-item expanded "><a href="platform_menus.html"><strong aria-hidden="true">9.2.</strong> Platform Menus</a></li><li class="chapter-item expanded "><a href="contextual_menus.html"><strong aria-hidden="true">9.3.</strong> Contextual Menus</a></li></ol></li><li class="chapter-item expanded "><a href="windows_and_dialogs.html"><strong aria-hidden="true">10.</strong> Windows and Dialogs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="creating_and_destroying_windows.html"><strong aria-hidden="true">10.1.</strong> Creating and Destroying Windows</a></li><li class="chapter-item expanded "><a href="window_behavior_and_styles.html"><strong aria-hidden="true">10.2.</strong> Window Behavior and Styles</a></li><li class="chapter-item expanded "><a href="dialog_windows.html"><strong aria-hidden="true">10.3.</strong> Dialog Windows</a></li></ol></li><li class="chapter-item expanded "><a href="organizing_complex_interfaces.html"><strong aria-hidden="true">11.</strong> Organizing Complex Interfaces</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="separator.html"><strong aria-hidden="true">11.1.</strong> Separator</a></li><li class="chapter-item expanded "><a href="label_frames.html"><strong aria-hidden="true">11.2.</strong> Label Frames</a></li><li class="chapter-item expanded "><a href="paned_windows.html"><strong aria-hidden="true">11.3.</strong> Paned Windows</a></li><li class="chapter-item expanded "><a href="notebook.html"><strong aria-hidden="true">11.4.</strong> Notebook</a></li></ol></li><li class="chapter-item expanded "><a href="fonts_colors_images.html"><strong aria-hidden="true">12.</strong> Fonts, Colors, Images</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="fonts.html"><strong aria-hidden="true">12.1.</strong> Fonts</a></li><li class="chapter-item expanded "><a href="colors.html"><strong aria-hidden="true">12.2.</strong> Colors</a></li><li class="chapter-item expanded "><a href="images.html"><strong aria-hidden="true">12.3.</strong> Images</a></li></ol></li><li class="chapter-item expanded "><a href="canvas.html"><strong aria-hidden="true">13.</strong> Canvas</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="creating_items.html"><strong aria-hidden="true">13.1.</strong> Creating Items</a></li><li class="chapter-item expanded "><a href="event_bindings.html"><strong aria-hidden="true">13.2.</strong> Event Bindings</a></li><li class="chapter-item expanded "><a href="tags.html"><strong aria-hidden="true">13.3.</strong> Tags</a></li><li class="chapter-item expanded "><a href="scrolling.html"><strong aria-hidden="true">13.4.</strong> Scrolling</a></li></ol></li><li class="chapter-item expanded "><a href="text_chapter.html"><strong aria-hidden="true">14.</strong> Text</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="the_basics.html"><strong aria-hidden="true">14.1.</strong> The Basics</a></li><li class="chapter-item expanded "><a href="modifying_the_text_in_code.html"><strong aria-hidden="true">14.2.</strong> Modifying the Text in Code</a></li><li class="chapter-item expanded "><a href="formatting_with_tags.html"><strong aria-hidden="true">14.3.</strong> Formatting with Tags</a></li><li class="chapter-item expanded "><a href="events_and_bindings.html"><strong aria-hidden="true">14.4.</strong> Events and Bindings</a></li><li class="chapter-item expanded "><a href="selecting_text.html"><strong aria-hidden="true">14.5.</strong> Selecting Text</a></li><li class="chapter-item expanded "><a href="marks.html"><strong aria-hidden="true">14.6.</strong> Marks</a></li><li class="chapter-item expanded "><a href="images_and_widgets.html"><strong aria-hidden="true">14.7.</strong> Images and Widgets</a></li><li class="chapter-item expanded "><a href="even_more.html"><strong aria-hidden="true">14.8.</strong> Even More</a></li></ol></li><li class="chapter-item expanded "><a href="treeview.html"><strong aria-hidden="true">15.</strong> Treeview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="adding_items_to_the_tree.html"><strong aria-hidden="true">15.1.</strong> Adding Items to the Tree</a></li><li class="chapter-item expanded "><a href="rearranging_items.html"><strong aria-hidden="true">15.2.</strong> Rearranging Items</a></li><li class="chapter-item expanded "><a href="displaying_information_for_each_item.html"><strong aria-hidden="true">15.3.</strong> Displaying Information for each Item</a></li><li class="chapter-item expanded "><a href="item_appearance_and_events.html"><strong aria-hidden="true">15.4.</strong> Item Appearance and Events</a></li><li class="chapter-item expanded "><a href="customizing_the_display.html"><strong aria-hidden="true">15.5.</strong> Customizing the Display</a></li></ol></li><li class="chapter-item expanded "><a href="styles_and_themes.html"><strong aria-hidden="true">16.</strong> Styles and Themes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using_existing_themes.html"><strong aria-hidden="true">16.1.</strong> Using Existing Themes</a></li><li class="chapter-item expanded "><a href="using_styles.html"><strong aria-hidden="true">16.2.</strong> Using Styles</a></li><li class="chapter-item expanded "><a href="whats_inside_a_style.html"><strong aria-hidden="true">16.3.</strong> What's Inside a Style?</a></li><li class="chapter-item expanded "><a href="manipulating_styles.html"><strong aria-hidden="true">16.4.</strong> Manipulating Styles</a></li><li class="chapter-item expanded "><a href="sound_difficult_to_you.html"><strong aria-hidden="true">16.5.</strong> Sound Difficult to you?</a></li><li class="chapter-item expanded "><a href="advanced_more_on_elements.html"><strong aria-hidden="true">16.6.</strong> Advanced: More on Elements</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="entry"><a class="header" href="#entry">Entry</a></h1>
<p>An <em>entry</em> widget presents users with a single line text field where they can
type in a string value. These can be just about anything: a name, a city, a
password, social security number, etc.</p>
<table><thead><tr><th style="text-align: center">Entry widgets</th></tr></thead><tbody>
<tr><td style="text-align: center"><img src="./images/w_entry_all.png" alt="Entry widgets." /></td></tr>
</tbody></table>
<p>Entries are created using the <code>add_ttk_entry</code> method:</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>parent.add_ttk_entry( &quot;name&quot; -textvariable(&quot;username&quot;) )?;
<span class="boring">}
</span></code></pre></pre>
<p>A <code>width</code> configuration option may be specified to provide the number of
characters wide the entry should be. This allows you, for example, to display a
shorter entry for a zip or postal code.</p>
<h2 id="entry-contents"><a class="header" href="#entry-contents">Entry Contents</a></h2>
<p>We've seen how checkbutton and radiobutton widgets have a value associated with
them. Entries do as well, and that value is usually accessed through a linked
variable specified by the <code>textvariable</code> configuration option. </p>
<blockquote>
<p>Unlike the various buttons, entries don't have a text or image beside them to
identify them. Use a separate label widget for that.</p>
</blockquote>
<p>You can also get or change the value of the entry widget without going through
the linked variable. The <code>get</code> method returns the current value, and the
<code>delete</code> and <code>insert</code> methods let you change the contents, e.g.</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>println!( &quot;current value is {}&quot;, name.get() );
name.delete_range( 0.. )?; // delete between two indices, 0-based
name.insert( 0, &quot;your name&quot; )?; // insert new text at a given index
<span class="boring">}
</span></code></pre></pre>
<h2 id="watching-for-changes"><a class="header" href="#watching-for-changes">Watching for Changes</a></h2>
<p>Entry widgets don't have a <code>command</code> option to invoke a callback whenever the
entry is changed. To watch for changes, you should watch for changes to the
linked variable. See also &quot;Validation&quot;, below.</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[proc] fn it_has_been_written() -&gt; TkResult&lt;()&gt; { Ok(()) }
interpreter.trace_add_variable_write( &quot;username&quot;, &quot;it_has_been_written&quot; )?;
<span class="boring">}
</span></code></pre></pre>
<p>You'll be fine if you stick with simple uses of <code>trace_add_variable_write</code> like
that shown above. You might want to know that this is a small part of a much
more complex system for observing variables and invoking callbacks when they are
read, written, or deleted. You can trigger multiple callbacks, add or delete
them (<code>trace_remove_variable_write</code>), and introspect them
(<code>trace_info_variable</code>).</p>
<h2 id="passwords"><a class="header" href="#passwords">Passwords</a></h2>
<p>Entries can be used for passwords, where the actual contents are displayed as a
bullet or other symbol. To do this, set the <code>show</code> configuration option to the
character you'd like to display.</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>parent.add_ttk_entry( &quot;passwd&quot; -textvariable(&quot;password&quot;) -show(&quot;*&quot;) )?;
<span class="boring">}
</span></code></pre></pre>
<h2 id="widget-states"><a class="header" href="#widget-states">Widget States</a></h2>
<p>Like the various buttons, entries can also be put into a disabled state via the
<code>state</code> command (and queried with <code>instate</code>). Entries can also use the state
flag <code>readonly</code>; if set, users cannot change the entry, though they can still
select the text in it (and copy it to the clipboard). There is also an <code>invalid</code>
state, set if the entry widget fails validation, which leads us to...</p>
<h2 id="validation"><a class="header" href="#validation">Validation</a></h2>
<p>Users can type any text they like into an entry widget. However, if you'd like
to restrict what they can type into the entry, you can do so with validation.
For example, an entry might only accept an integer or a valid zip or postal
code.</p>
<p>Your program can specify what makes an entry valid or invalid, as well as when
to check its validity. As we'll see soon, the two are related. We'll start with
a simple example, an entry that can only hold an integer up to five digits long.</p>
<p>The validation criteria is specified via an entry's <code>validatecommand</code>
configuration option. You supply a piece of code whose job is to validate the
entry. It functions like a widget callback or event binding, except that it
returns a value (whether or not the entry is valid). We'll arrange to validate
the entry on any keystroke, which is specified by providing a value of <code>key</code> to
the <code>validate</code> configuration option.</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let validate_cmd = tclfn!( &amp;tk, args: &quot;%P&quot;,
    fn check_num( new_val: String ) -&gt; TclResult&lt;bool&gt; {
       Ok( new_val.len() &lt;= 5 &amp;&amp;
           new_val.chars().filter( |&amp;ch| ch &gt;= '0' &amp;&amp; ch &lt;= '9' ).count() &lt;= 5 )
    }
);

root.add_ttk_entry( &quot;e&quot; -textvariable(&quot;num&quot;) -validate(&quot;key&quot;) -validatecommand(validate_cmd) )?
    .grid( -column(0) -row(2) -sticky(&quot;we&quot;) )?;
<span class="boring">}
</span></code></pre></pre>
<p>A few things are worth noting. First, as with event bindings, we can access more
information about the conditions that triggered the validation via percent
substitutions. We used one of these here: `%P  is the new value of the entry if
the validation passes. We'll use a simple regular expression and a length check
to determine if the change is valid. To reject the change, our validation
command can return a false value, and the entry will remain unchanged.</p>
<p>Let's extend our example so that the entry will accept a US zip code, formatted
as &quot;#####&quot; or &quot;#####-####&quot; (&quot;#&quot; can be any digit). We'll still do some
validation on each keystroke (only allowing entry of numbers or a hyphen).
However, We can no longer fully validate the entry on every keystroke; if
they've just typed the first digit, it's not valid yet. So full validation will
only happen when the entry loses focus (e.g., a user tabs away from it). Tk
refers to this as revalidation, in contrast with prevalidation (accepting
changes on each keystroke).</p>
<p>How should we respond to errors? Let's add a message reminding users of the
format. It will appear if they type a wrong key or tab away from the entry when
it's not holding a valid zip code. We'll remove the message when they return to
the entry or type a valid key. We'll also add a (dummy) button to &quot;process&quot; the
zip code, which will be disabled unless the zip entry is valid. Finally, we'll
also add a &quot;name&quot; entry so you can tab away from the zip entry.</p>
<pre><pre class="playground"><code class="language-rust no_run">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const FORMATMSG: &amp;'static str = &quot;Zip should be ##### or #####-####&quot;;

let f = root.add_ttk_frame( &quot;f&quot; )?
    .grid( -column(0) -row(3) )?;

f.add_ttk_label( &quot;l1&quot; -text(&quot;Name:&quot;) )?
    .grid( -column(0) -row(4) -padx(5) -pady(5) )?;

let _e1 = f.add_ttk_entry( &quot;e1&quot; )?
    .grid( -column(1) -row(4) -padx(5) -pady(5) )?;

f.add_ttk_label( &quot;l&quot; -text(&quot;Zip:&quot;) )?
    .grid( -column(0) -row(5) -padx(5) -pady(5) )?;

let f_btn = f.add_ttk_button( &quot;btn&quot; -text(&quot;Process&quot;) )?
    .grid( -column(2) -row(5) -padx(5) -pady(5) )?;

f_btn.set_state( TtkState::Disabled )?;

let check_zip_cmd = tclosure!( tk, cmd: &quot;check_zip&quot;, args: &quot;%P %V&quot;,
    move |new_val: String, op: String| -&gt; TkResult&lt;bool&gt; {
        let interp = tcl_interp!();
        interp.set( &quot;errmsg&quot;, &quot;&quot; );

        let re = r#&quot;^[0-9]{5}(\-[0-9]{4})?$&quot;#;
        let regex = Regex::new( re ).unwrap();
        let valid = regex.is_match( &amp;new_val );
        f_btn.set_state( if valid{ !TtkState::Disabled } else{ TtkState::Disabled })?;
        if op == &quot;key&quot; {
            let regex = Regex::new( r#&quot;^[0-9\-]*$&quot;# ).unwrap();
            let ok_so_far = regex.is_match( &amp;new_val ) &amp;&amp; new_val.len() &lt;= 10;
            if !ok_so_far {
                interp.set( &quot;errmsg&quot;, FORMATMSG );
            }
            return Ok( true );
        } else if op == &quot;focusout&quot; {
            if !valid {
                interp.set( &quot;errmsg&quot;, FORMATMSG );
            }
        }
        if valid {
            Ok( true )
        } else {
            Ok( false )
        }
    }
);

f.add_ttk_entry( &quot;e&quot; -textvariable(&quot;zip&quot;) -validate(&quot;all&quot;) -validatecommand(check_zip_cmd) )?
    .grid( -column(1) -row(5) -padx(5) -pady(5) )?;

f.add_ttk_label( &quot;msg&quot; -font(&quot;TkSmallCaptionFont&quot;) -foreground(&quot;red&quot;) -textvariable(&quot;errmsg&quot;) )?
    .grid( -column(1) -row(2) -padx(5) -pady(5) -sticky(&quot;w&quot;) )?;
<span class="boring">}
</span></code></pre></pre>
<p>Notice that the <code>validate</code> configuration option has been changed from <code>key</code> to
<code>all</code>. That arranges for the <code>validatecommand</code> callback to be invoked on not
only keystrokes but other triggers. The trigger is passed to the callback using
the %V percent substitution. The callback differentiated between <code>key</code> and
<code>focusout</code> triggers (you can also check for <code>focusin</code>).</p>
<blockquote>
<p>There's a few more things to know about validation. First, if your
<code>validatecommand</code> ever generates an error (or doesn't return a boolean),
validation will be disabled for that widget. Your callback can modify the entry,
e.g., change its textvariable. You can ask the widget to validate at any time by
calling it's <code>validate</code> method, which returns true if validation passes (the
<code>%V</code> substitution is set to <code>forced</code>).</p>
</blockquote>
<blockquote>
<p>There is an <code>invalidcommand</code> configuration option (which works like
<code>validatecommand</code>) that is called whenever validation fails. You can use it to
accomplish nasty things like forcing the focus back on the widget that didn't
validate. In practice, it's rarely used. As mentioned earlier, the entry's
<code>invalid</code> state flag (which can be checked via the <code>instate</code> <code>invalid</code> method)
is automatically updated as validation succeeds or fails.</p>
</blockquote>
<blockquote>
<p>Other percent substitutions allow you to get the entry's contents prior to
editing (<code>%s</code>), differentiate between insert and delete (<code>%d</code>), where an insert
or delete occurs (<code>%i</code>), what is being inserted or deleted (<code>%S</code>), the current
setting of the <code>validate</code> option (<code>%v</code>) and the name of the widget (<code>%W</code>).</p>
</blockquote>
<h2 id="run-example"><a class="header" href="#run-example">Run Example</a></h2>
<p><code>cargo run --example entry</code></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="radiobutton.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="combobox.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="radiobutton.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="combobox.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
